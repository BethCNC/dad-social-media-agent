# Docker & Coolify Deployment

The app is deployed as a single Docker container via **Coolify**.

## Multi-Stage Docker Build (Conceptual)

1. **Frontend Build Stage**
   - Base image: `node:20-alpine` (or similar).
   - Install dependencies and run `npm run build` for Vite.
   - Output directory: `frontend/dist`.

2. **Backend + Runtime Stage**
   - Base image: `python:3.10-slim` (or similar).
   - Install Python dependencies (FastAPI, uvicorn, httpx, pydantic, etc.).
   - Copy backend code into `/app/backend`.
   - Copy `frontend/dist` into `/app/static` or similar.
   - Configure FastAPI to serve static files.
   - Default command: run `uvicorn` on `0.0.0.0:8000`.

## Coolify Setup

- Create a new app in Coolify using the Dockerfile from this repo.
- Set environment variables in Coolify UI:
  - `OPENAI_API_KEY`
  - `PEXELS_API_KEY`
  - `CREATOMATE_API_KEY`
  - `AYRSHARE_API_KEY`
  - `ENV=production`
  - Any other app-specific config.
- Configure health check to call `GET /health`.

## Local Development

- Optionally use `docker-compose.yml` to run the full stack locally.
- Or run backend and frontend separately:
  - Backend: `uvicorn app.main:app --reload --port 8000`
  - Frontend: `npm run dev` (Vite default port, usually 5173).
